"use strict";(self.webpackChunklukso_docs=self.webpackChunklukso_docs||[]).push([[7747],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>u});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=n.createContext({}),l=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,s=e.originalType,c=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),h=l(a),u=r,m=h["".concat(c,".").concat(u)]||h[u]||p[u]||s;return a?n.createElement(m,o(o({ref:t},d),{},{components:a})):n.createElement(m,o({ref:t},d))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=a.length,o=new Array(s);o[0]=h;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var l=2;l<s;l++)o[l]=a[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},6160:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var n=a(7462),r=(a(7294),a(3905));const s={sidebar_label:"LSP16 - Universal Factory",sidebar_position:4},o="LSP16 - Universal Factory",i={unversionedId:"standards/generic-standards/lsp16-universal-factory",id:"standards/generic-standards/lsp16-universal-factory",title:"LSP16 - Universal Factory",description:"LSP16 - Universal Factory",source:"@site/docs/standards/generic-standards/lsp16-universal-factory.md",sourceDirName:"standards/generic-standards",slug:"/standards/generic-standards/lsp16-universal-factory",permalink:"/standards/generic-standards/lsp16-universal-factory",draft:!1,editUrl:"https://github.com/lukso-network/docs/tree/main/docs/standards/generic-standards/lsp16-universal-factory.md",tags:[],version:"current",lastUpdatedAt:1686725658,formattedLastUpdatedAt:"Jun 14, 2023",sidebarPosition:4,frontMatter:{sidebar_label:"LSP16 - Universal Factory",sidebar_position:4},sidebar:"standardsSidebar",previous:{title:"LSP2 - ERC725Y JSON Schema",permalink:"/standards/generic-standards/lsp2-json-schema"},next:{title:"LSP17 - Contract Extension",permalink:"/standards/generic-standards/lsp17-contract-extension"}},c={},l=[{value:"Introduction",id:"introduction",level:2},{value:"What does this standard represent?",id:"what-does-this-standard-represent",level:2},{value:"Specification",id:"specification",level:3},{value:"Example",id:"example",level:3}],d={toc:l};function p(e){let{components:t,...s}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"lsp16---universal-factory"},"LSP16 - Universal Factory"),(0,r.kt)("admonition",{title:"Standard Document",type:"info"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-16-UniversalFactory.md"},"LSP16 - Universal Factory"))),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"The use of different blockchain networks has brought with it a unique challenge: ensuring that an entity or user controlling an address on one chain can have the same control on another chain. For Externally Owned Accounts, this is known, as possesing the private key of the address means control over it regardless of the chain."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"EOA Control",src:a(5633).Z,width:"3060",height:"1306"})),(0,r.kt)("p",null,"Currently, this control isn't guaranteed when it comes to smart contracts. Even if a contract resides at a particular address on one chain, the same contract does not necessarily exist at the same address on another chain or even a possibility of not having a contract at all on the other chain at the same address."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"EOA Control",src:a(232).Z,width:"3101",height:"1289"})),(0,r.kt)("p",null,"When it comes to EOAs, people can send assets to EOA on any chain as there is a known control over any chain. This situation creates a problem where assets might be sent to a contract on a different chain under the assumption that it's identical and under the sender's control, which may not be the case."),(0,r.kt)("p",null,"Therefore, it's preferable to opt for a situation that can allow for the creation of identical smart contracts at the same addresses across different chains."),(0,r.kt)("h2",{id:"what-does-this-standard-represent"},"What does this standard represent?"),(0,r.kt)("p",null,"This standard defines a contract called ",(0,r.kt)("strong",{parentName:"p"},"Universal Factory")," which provide a way to deploy the same contracts at the same addresses accross different chains given few requirements."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"UniversalFactory",src:a(4606).Z,width:"2600",height:"1538"})),(0,r.kt)("p",null,"This multi-chain compatibility eliminates the ",(0,r.kt)("strong",{parentName:"p"},"risk of asset loss")," due to mismatched contracts and addresses. Further, it opens up the possibility of establishing a kind of multi-chain identity, which is particularly beneficial for factory, registry, and account-based contracts."),(0,r.kt)("h3",{id:"specification"},"Specification"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Check the ",(0,r.kt)("a",{parentName:"p",href:"/standards/smart-contracts/lsp16-universal-factory"},(0,r.kt)("strong",{parentName:"a"},"LSP16UniversalFactory contract functions"))," to know how to deploy contracts at the same address across different chains.")),(0,r.kt)("p",null,"LSP16 establishes a range of functions to deploy different types of contracts using the ",(0,r.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-1014"},"CREATE2")," opcode, including standard and initializable contracts (proxies)."),(0,r.kt)("p",null,"For initializable contracts, the initialization data is included into the salt to prevent address squatting across chains."),(0,r.kt)("p",null,"Additionally, it ensures that the same bytecode and salt will create the same contract address on different chains, given that the UniversalFactory contract was deployed on the same address on each chain."),(0,r.kt)("p",null,"For a contract to be replicated at the same address accross different chain, it should be deployed using the same:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Bytecode"),(0,r.kt)("li",{parentName:"ul"},"Salt"),(0,r.kt)("li",{parentName:"ul"},"Initialization Data (If the contract is initializable)")),(0,r.kt)("h3",{id:"example"},"Example"),(0,r.kt)("p",null,"Suppose Alice wants to deploy a ",(0,r.kt)("strong",{parentName:"p"},"UniversalProfile")," on ",(0,r.kt)("strong",{parentName:"p"},"LUKSO Mainnet")," owned by her EOA. If she deploys the UniversalProfile using the UniversalFactory on LUKSO, she can later deploy the same UniversalProfile owned by her EOA on ",(0,r.kt)("strong",{parentName:"p"},"Ethereum Mainnet")," using the UniversalFactory with ",(0,r.kt)("strong",{parentName:"p"},"producing the same address"),"."),(0,r.kt)("p",null,"This interoperability also ensures that if Alice, or anyone else, sends assets to the contract's address on one chain, ",(0,r.kt)("strong",{parentName:"p"},"those assets can be accessed")," on the other chain as well, preventing inadvertent loss of assets and creating a ",(0,r.kt)("strong",{parentName:"p"},"multi-chain identity"),"."))}p.isMDXComponent=!0},232:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/Contract-Control-ab328835b770ea60613aa000190d2c68.jpeg"},5633:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/EOA-Control-28ba052187fb012ac9ce3987bc663af6.jpeg"},4606:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/UniversalFactory-e4781a76d2ba6b5ced59481a75a2be74.jpeg"}}]);