"use strict";(self.webpackChunklukso_docs=self.webpackChunklukso_docs||[]).push([[1581],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=u(n),m=o,h=p["".concat(s,".").concat(m)]||p[m]||d[m]||r;return n?a.createElement(h,i(i({ref:t},c),{},{components:n})):a.createElement(h,i({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var u=2;u<r;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(7294),o=n(6010);const r="tabItem_Ymn6";function i(e){let{children:t,hidden:n,className:i}=e;return a.createElement("div",{role:"tabpanel",className:(0,o.Z)(r,i),hidden:n},t)}},4866:(e,t,n)=>{n.d(t,{Z:()=>N});var a=n(7462),o=n(7294),r=n(6010),i=n(2466),l=n(6775),s=n(1980),u=n(7392),c=n(12);function d(e){return function(e){var t;return(null==(t=o.Children.map(e,(e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})))?void 0:t.filter(Boolean))??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:o}}=e;return{value:t,label:n,attributes:a,default:o}}))}function p(e){const{values:t,children:n}=e;return(0,o.useMemo)((()=>{const e=t??d(n);return function(e){const t=(0,u.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function m(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:n}=e;const a=(0,l.k6)(),r=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,s._X)(r),(0,o.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(a.location.search);t.set(r,e),a.replace({...a.location,search:t.toString()})}),[r,a])]}function k(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,r=p(e),[i,l]=(0,o.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:r}))),[s,u]=h({queryString:n,groupId:a}),[d,k]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,r]=(0,c.Nk)(n);return[a,(0,o.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:a}),f=(()=>{const e=s??d;return m({value:e,tabValues:r})?e:null})();(0,o.useLayoutEffect)((()=>{f&&l(f)}),[f]);return{selectedValue:i,selectValue:(0,o.useCallback)((e=>{if(!m({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),k(e)}),[u,k,r]),tabValues:r}}var f=n(2389);const g="tabList__CuJ",y="tabItem_LNqP";function v(e){let{className:t,block:n,selectedValue:l,selectValue:s,tabValues:u}=e;const c=[],{blockElementScrollPositionUntilNextRender:d}=(0,i.o5)(),p=e=>{const t=e.currentTarget,n=c.indexOf(t),a=u[n].value;a!==l&&(d(t),s(a))},m=e=>{var t;let n=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{const t=c.indexOf(e.currentTarget)+1;n=c[t]??c[0];break}case"ArrowLeft":{const t=c.indexOf(e.currentTarget)-1;n=c[t]??c[c.length-1];break}}null==(t=n)||t.focus()};return o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":n},t)},u.map((e=>{let{value:t,label:n,attributes:i}=e;return o.createElement("li",(0,a.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>c.push(e),onKeyDown:m,onClick:p},i,{className:(0,r.Z)("tabs__item",y,null==i?void 0:i.className,{"tabs__item--active":l===t})}),n??t)})))}function b(e){let{lazy:t,children:n,selectedValue:a}=e;const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=r.find((e=>e.props.value===a));return e?(0,o.cloneElement)(e,{className:"margin-top--md"}):null}return o.createElement("div",{className:"margin-top--md"},r.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function w(e){const t=k(e);return o.createElement("div",{className:(0,r.Z)("tabs-container",g)},o.createElement(v,(0,a.Z)({},e,t)),o.createElement(b,(0,a.Z)({},e,t)))}function N(e){const t=(0,f.Z)();return o.createElement(w,(0,a.Z)({key:String(t)},e))}},5816:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>l,metadata:()=>u,toc:()=>d});var a=n(7462),o=(n(7294),n(3905)),r=n(4866),i=n(5162);const l={title:"Become a Validator",sidebar_position:3},s=void 0,u={unversionedId:"networks/mainnet/become-a-validator",id:"networks/mainnet/become-a-validator",title:"Become a Validator",description:"Become a validator",source:"@site/docs/networks/mainnet/become-a-validator.md",sourceDirName:"networks/mainnet",slug:"/networks/mainnet/become-a-validator",permalink:"/networks/mainnet/become-a-validator",draft:!1,editUrl:"https://github.com/lukso-network/docs/tree/main/docs/networks/mainnet/become-a-validator.md",tags:[],version:"current",lastUpdatedAt:1687872790,formattedLastUpdatedAt:"Jun 27, 2023",sidebarPosition:3,frontMatter:{title:"Become a Validator",sidebar_position:3},sidebar:"networksSidebar",previous:{title:"Running a Node",permalink:"/networks/mainnet/running-a-node"},next:{title:"Network parameters",permalink:"/networks/testnet/parameters"}},c={},d=[{value:"Become a validator",id:"become-a-validator",level:2},{value:"Starting a validator",id:"starting-a-validator",level:2},{value:"Using LUKSO CLI",id:"using-lukso-cli",level:3},{value:"Importing Validator Keys",id:"importing-validator-keys",level:4},{value:"Checking Validator Keys",id:"checking-validator-keys",level:4},{value:"Starting the Validator",id:"starting-the-validator",level:4},{value:"Checking Validator Logs",id:"checking-validator-logs",level:4},{value:"Using Docker",id:"using-docker",level:3},{value:"Using Custom configs",id:"using-custom-configs",level:3},{value:"Need Help?",id:"need-help",level:2},{value:"Further Reads",id:"further-reads",level:2}],p={toc:d};function m(e){let{components:t,...l}=e;return(0,o.kt)("wrapper",(0,a.Z)({},p,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"become-a-validator"},"Become a validator"),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"The LUKSO Mainnet launched on Tuesday 23rd May, 4:20 PM GMT with validators that previously deposited to the ",(0,o.kt)("a",{parentName:"p",href:"https://etherscan.io/address/0x42000421dd80D1e90E56E87e6eE18D7770b9F8cC#code"},"Genesis Deposit Contract"),". Becoming a validator is paused until the discovery month ends and the LYXe to LYX migration goes live. For more information, have a look into our Medium posts about the ",(0,o.kt)("a",{parentName:"p",href:"https://medium.com/lukso/its-happening-the-genesis-validators-are-coming-ce5e07935df6"},"LUKSO launch process")," and the ",(0,o.kt)("a",{parentName:"p",href:"https://medium.com/lukso/genesis-validators-deposit-smart-contract-freeze-and-testnet-launch-c5f7b568b1fc"},"deposit contract freeze"),".")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Deposit Launchpad",src:n(5359).Z,width:"1315",height:"664"})),(0,o.kt)("p",null,"To become a validator, you can use the LUKSO Deposit Launchpad: ",(0,o.kt)("a",{parentName:"p",href:"https://deposit.mainnet.lukso.network/"},"https://deposit.mainnet.lukso.network/"),"."),(0,o.kt)("admonition",{title:"Validator Keys",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"As a validator, you need to import your validator deposit key (",(0,o.kt)("inlineCode",{parentName:"p"},"keystore-xxx-[timestamp].json")," files that you have generated using the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/tools-wagyu-key-gen"},"LUKSO Wagyu")," or ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/tools-key-gen-cli"},"LUKSO CLI Keygen")," tools. Ensure you safely copy them to your node before starting the validator node.")),(0,o.kt)("h2",{id:"starting-a-validator"},"Starting a validator"),(0,o.kt)("p",null,"As while running a regular node, you have multiple options to start your validator:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"LUKSO CLI Validator")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Docker Compose Setup")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Configure a LUKSO Compatible Client"))),(0,o.kt)("p",null,"Please refer to the regular ",(0,o.kt)("a",{parentName:"p",href:"/networks/mainnet/running-a-node"},"Node Guide")," that explains the differences between those setups and how to get the correct network configurations."),(0,o.kt)("h3",{id:"using-lukso-cli"},"Using LUKSO CLI"),(0,o.kt)("p",null,"Set up your regular node using the LUKSO CLI as described in the ",(0,o.kt)("a",{parentName:"p",href:"/networks/mainnet/running-a-node"},"Node Guide"),"."),(0,o.kt)("h4",{id:"importing-validator-keys"},"Importing Validator Keys"),(0,o.kt)("p",null,"If it is set up correctly and all clients are working, you can continue importing your validator keys into the validator wallet. You will be asked to set a new wallet password to store the imported deposit keys safely. Further, you will have to input your password for the deposit keys you want to import so that they can be encrypted and added to the wallet. The new keystore files will be stored under the ",(0,o.kt)("inlineCode",{parentName:"p"},"./myLUKSOnode/mainnet-keystore")," directory."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'$ lukso validator import --validator-keys "./path/to/your/keys/folder"\n')),(0,o.kt)("h4",{id:"checking-validator-keys"},"Checking Validator Keys"),(0,o.kt)("p",null,"After importing one or multiple folders, you can check your imported keys."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ lukso validator list\n")),(0,o.kt)("p",null,"If the imported deposit keys match the ones in the original folder, you can delete them from your node machine."),(0,o.kt)("h4",{id:"starting-the-validator"},"Starting the Validator"),(0,o.kt)("p",null,"After importing your keys, you can start the node with the validator functionality. If the node is already synced and running, the ",(0,o.kt)("inlineCode",{parentName:"p"},"lukso start")," command will restart all clients automatically."),(0,o.kt)("p",null,"To start the validator, you have to pass a minimum of 2 flags:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"--validator"),": Will start the installed and configured clients, including the validator"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"--transaction-fee-recipient"),": Specifies your transaction fee recipient address, which will receive all block rewards and tips from transactions. The address can be any EOA address you have control over on a wallet like MetaMask, Ledger, or any other wallet with the functionality to connect with LUKSO or custom networks.")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"If you want to set custom flags to the start command, like the graffiti or a custom stat page connection, make sure to add them. You can find more information about passing options to the client on the official ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/tools-lukso-cli"},"LUKSO CLI Documentation"),".")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"The recipient fee address can also be different than the withdrawal credential you added to your validator key when you generated them. The withdrawal address is used to withdraw rewards and staked amounts connected to the consensus mechanism after the ",(0,o.kt)("a",{parentName:"p",href:"https://ethereum.org/en/history/"},"Shapella")," upgrade is implemented on the LUKSO blockchain. The feature is planned some months after the network launch.")),(0,o.kt)("p",null,"As only genesis validators can run the validator on a node, you must select your chosen initial supply for the LUKSO mainnet. More information can be found in the official ",(0,o.kt)("a",{parentName:"p",href:"https://medium.com/lukso/lukso-mainnet-timeline-and-process-dd997fe811c8"},"Mainnet Timeline")," article."),(0,o.kt)("p",null,"Without specifying any flags, the node starts its normal synchronization process."),(0,o.kt)("p",null,"If you want more convenience and your validator to operate quickly, you can also use checkpoints. Checkpoint synchronization is a feature that significantly speeds up the initial sync time of the consensus client. If enabled, your node will begin syncing from a recently finalized consensus checkpoint instead of genesis."),(0,o.kt)(r.Z,{mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"regular-sync",label:"Regular Synchronization",mdxType:"TabItem"},(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"The synchronization process will take multiple hours for the validator to participate in the consensus.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'$ lukso start --validator --transaction-fee-recipient "0x1234..."\n'))),(0,o.kt)(i.Z,{value:"checkpoint-sync",label:"Checkpoint Synchronization",mdxType:"TabItem"},(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"The shortcut is ideal for making installation, validator migration, or recovery much faster.")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"If you are setting up a validator node for the testnet, make sure to exchange the mainnet checkpoint address with the testnet checkpoint address ",(0,o.kt)("inlineCode",{parentName:"p"},"https://checkpoints.testnet.lukso.network")," and to add the ",(0,o.kt)("inlineCode",{parentName:"p"},"--testnet")," flag to the start command.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'# Mainnet Checkpoint for Prysm Consensus Client\n$ lukso start --validator --transaction-fee-recipient "0x1234..." --prysm-checkpoint-sync-url=https://checkpoints.mainnet.lukso.network\n\n# Mainnet Checkpoint for Lighthouse Consensus Client\n$ lukso start --validator --transaction-fee-recipient "0x1234..." --lighthouse-checkpoint-sync-url=https://checkpoints.mainnet.lukso.network\n')))),(0,o.kt)("h4",{id:"checking-validator-logs"},"Checking Validator Logs"),(0,o.kt)("p",null,"To check that everything is running correctly, you can see the status of all your clients using the status command."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ lukso status\n\n# INFO[0000] PID 39424 - Execution (geth): Running \ud83d\udfe2\n# INFO[0000] PID 39430 - Consensus (prysm): Running \ud83d\udfe2\n# INFO[0000] PID 39432 - Validator (validator): Running \ud83d\udfe2\n")),(0,o.kt)("p",null,"In addition to the ",(0,o.kt)("em",{parentName:"p"},"consensus")," and ",(0,o.kt)("em",{parentName:"p"},"execution")," clients, you can now further check the validator logs using the LUKSO CLI:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# Viewing the logs of the validator client\n$ lukso logs validator\n")),(0,o.kt)("p",null,"For more options, please check the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/tools-lukso-cli"},"LUKSO CLI Documentation"),"."),(0,o.kt)("p",null,"To enable more advanced monitoring for your node, you can check the official ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/network-docker-monitoring"},(0,o.kt)("inlineCode",{parentName:"a"},"network-docker-monitoring"))," repository with a step-by-step guide."),(0,o.kt)("h3",{id:"using-docker"},"Using Docker"),(0,o.kt)("p",null,"Our official Docker container provides a base template for images to run the LUKSO validator nodes. Make sure you have Docker and Docker Compose installed on your system."),(0,o.kt)("p",null,"Head over to the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/network-docker-containers"},"network-docker-containers")," repository from LUKSO and follow the installation process. You will have to clone the repository to your node machine and configure various properties, including the genesis files, deposit keys, and node name."),(0,o.kt)("p",null,"After the configuration, you can automatically download, install, and start all node clients. Head into the repository and follow the instructions in the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/network-docker-monitoring/blob/main/README.md"},"README.md")),(0,o.kt)("p",null,"To enable more advanced monitoring for your node, you can check the official ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/network-docker-monitoring"},(0,o.kt)("inlineCode",{parentName:"a"},"network-docker-monitoring"))," repository with a step-by-step guide."),(0,o.kt)("h3",{id:"using-custom-configs"},"Using Custom configs"),(0,o.kt)("p",null,"If you are a pro user or want to generate custom genesis files with a different genesis supply of the blockchain, you can follow the instructions in the following repositories:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/lukso-network/tools-lodestar-genesis-ssz-generator/blob/spike/pos-from-the-start/packages/beacon-node/test/utils/README.md"},"Genesis File Generation Tool")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/lukso-network/network-configs/mainnet"},"Network Configurations")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/lukso-network/network-configs#binary-applications"},"Client Specifications"))),(0,o.kt)("h2",{id:"need-help"},"Need Help?"),(0,o.kt)("p",null,"Check the ",(0,o.kt)("a",{parentName:"p",href:"/networks/faq/validator"},"Network FAQ")," section."),(0,o.kt)("p",null,"Ask your question in the validators channel on the ",(0,o.kt)("a",{parentName:"p",href:"https://discord.gg/lukso"},"official LUKSO Discord server"),"."),(0,o.kt)("h2",{id:"further-reads"},"Further Reads"),(0,o.kt)("p",null,"You can check out the following links for extended help or advice for setting up your node beyond the LUKSO CLI."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/fhildeb/lukso-node-guide"},"Extended Wiki and LUKSO Node Guide")," by Felix Hildebrandt"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.luksoverse.io/"},"LUKSO Community Guides")," by Luksoverse"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://discord.com/invite/ucsTcA2wTq"},"ETHStaker Community Discord")," for running EVM Clients")))}m.isMDXComponent=!0},5359:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/deposit-launchpad-08511c262f474568be88c604868167a4.png"}}]);